<div class="movies-container">
  
  <!-- Header con navbar -->
  <nav class="navbar">
    <div class="navbar-content">
      <h1>üé¨ Pelis M√°s</h1>
      <div class="navbar-actions">
        <span class="welcome-text">Bienvenido, {{ username }}</span>
        <button class="btn btn-primary" (click)="onCreateMovie()">
          + Nueva Pel√≠cula
        </button>
        <button class="btn btn-outline" (click)="onLogout()">
          Cerrar Sesi√≥n
        </button>
      </div>
    </div>
  </nav>

  <!-- Contenido principal -->
  <div class="content">
    
    <!-- Loading -->
    <div *ngIf="isLoading" class="loading">
      <div class="spinner"></div>
      <p>Cargando pel√≠culas...</p>
    </div>

    <!-- Error -->
    <div *ngIf="errorMessage && !isLoading" class="error-box">
      {{ errorMessage }}
    </div>

    <!-- Lista de pel√≠culas -->
    <div *ngIf="!isLoading && !errorMessage" class="movies-grid">
      
      <!-- Si no hay pel√≠culas -->
      <div *ngIf="movies.length === 0" class="empty-state">
        <h2>No hay pel√≠culas todav√≠a</h2>
        <p>Crea tu primera pel√≠cula haciendo clic en "Nueva Pel√≠cula"</p>
      </div>

      <!-- Cards de pel√≠culas -->
      <div *ngFor="let movie of movies" class="movie-card" (click)="onViewMovie(movie.id)">
        <div class="movie-poster">
          <img 
            *ngIf="movie.poster" 
            [src]="'http://localhost:8000/storage/' + movie.poster" 
            [alt]="movie.title"
          />
          <div *ngIf="!movie.poster" class="no-poster">
            üé¨
          </div>
        </div>
        <div class="movie-info">
          <h3>{{ movie.title }}</h3>
          <p class="movie-description">
            {{ movie.description || 'Sin descripci√≥n' }}
          </p>
          <div class="movie-status">
            <span 
              class="badge" 
              [class.published]="movie.is_published"
              [class.draft]="!movie.is_published"
            >
              {{ movie.is_published ? 'Publicada' : 'Borrador' }}
            </span>
          </div>
        </div>
      </div>

    </div>
  </div>

</div>